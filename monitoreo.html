<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
</style>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="pwa/vendor/bootstrap/css/bootstrap.min.css?v=10"
    />
    <link
      href="pwa/vendor/fonts/circular-std/style.css?v=10"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="pwa/libs/css/style.css?v=10" />
    <link
      rel="stylesheet"
      href="pwa/vendor/fonts/fontawesome/css/fontawesome-all.css?v=10"
    />
    <link rel="stylesheet" href="pwa/vendor/vector-map/jqvmap.css?v=10" />
    <link
      href="pwa/vendor/jvectormap/jquery-jvectormap-2.0.2.css?v=10"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="pwa/vendor/charts/chartist-bundle/chartist.css?v=10"
    />
    <link rel="stylesheet" href="pwa/vendor/charts/c3charts/c3.css?v=10" />
    <link
      rel="stylesheet"
      href="pwa/vendor/charts/morris-bundle/morris.css?v=10"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="pwa/vendor/daterangepicker/daterangepicker.css?v=10"
    />
    <link
      rel="icon"
      href="pwa/images/miniaturas/favicon-32x32.png?80172489140"
    />
    <title>Aymat Monitoreo</title>
  </head>

  <body>
    <!-- ============================================================== -->
    <!-- main wrapper -->
    <!-- ============================================================== -->
    <div class="dashboard-main-wrapper">
      <!-- ============================================================== -->
      <!-- navbar -->
      <!-- ============================================================== -->
      <div class="dashboard-header">
        <nav class="navbar navbar-expand-lg bg-white fixed-top">
          <!-- <a class="navbar-brand" href="index.html">AYMAT energia</a> -->
          <a class="navbar-brand" href="app.html"
            ><img
              src="pwa/images/AYMAT-FONDO-HORIZONTAL-W116-H45.png?80172489140"
              alt
              class="img-fluid"
          /></a>

          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse " id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto navbar-right-top">
              <!-- <li class="nav-item dropdown nav-user"> -->
              <!-- <a class="nav-link nav-user-img" href="#" id="navbarDropdownMenuLink2" -->
              <!-- data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img -->
              <!-- src="assets/images/avatar-1.jpg" alt="" class="user-avatar-md rounded-circle"></a> -->
              <!-- <div class="dropdown-menu dropdown-menu-right nav-user-dropdown" -->
              <!-- aria-labelledby="navbarDropdownMenuLink2"> -->
              <!-- <div class="nav-user-info"> -->
              <!-- <h5 class="mb-0 text-white nav-user-name">John Abraham </h5> -->
              <!-- <span class="status"></span><span class="ml-2">Available</span> -->
              <!-- </div> -->
              <!-- <a class="dropdown-item" href="#"><i class="fas fa-user mr-2"></i>Account</a> -->
              <!-- <a class="dropdown-item" href="#"><i class="fas fa-cog mr-2"></i>Setting</a> -->
              <!-- <a class="dropdown-item" href="login-aymat.html"><i -->
              <!-- class="fas fa-power-off mr-2"></i>Logout</a> -->
              <!-- </div> -->
              <!-- </li> -->
            </ul>
          </div>
        </nav>
      </div>
      <!-- ============================================================== -->
      <!-- end navbar -->
      <!-- ============================================================== -->
      <!-- ============================================================== -->
      <!-- left sidebar -->
      <!-- ============================================================== -->
      <div
        class="nav-left-sidebar sidebar-dark"
        style="background-color: #14A5A5;"
      >
        <div class="menu-list">
          <nav
            class="navbar navbar-expand-lg navbar-light"
            style="background-color: #14A5A5;"
          >
            <a class="d-xl-none d-lg-none" href="#">Dashboard</a>
            
            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#navbarNav"
              aria-controls="navbarNav"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav flex-column">
                
                <li class="nav-item">
                  <a class="nav-link active" href="">
                    <h7>
                      <svg
                        width="1em"
                        height="1em"
                        viewbox="0 0 16 16"
                        class="bi bi-display"
                        fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.75 13.5c.167-.333.25-.833.25-1.5h4c0 .667.083 1.167.25 1.5H11a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1h.75z"
                        />
                        <path
                          fill-rule="evenodd"
                          d="M13.991 3H2c-.325 0-.502.078-.602.145a.758.758 0 0 0-.254.302A1.46 1.46 0 0 0 1 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 0 0 .538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 0 0 .254-.302 1.464 1.464 0 0 0 .143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 0 0-.302-.254A1.46 1.46 0 0 0 13.99 3zM14 2H2C0 2 0 4 0 4v6c0 2 2 2 2 2h12c2 0 2-2 2-2V4c0-2-2-2-2-2z"
                        />
                      </svg>
                      Monitoreo Solar
                    </h7>
                  </a>
                </li>
                
                <li class="nav-item">
                <a class="nav-link" href="#">
                <h7>
                <svg width="1em" height="1em" viewbox="0 0 16 16" class="bi bi-battery"
                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                d="M12 5H2a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1zM2 4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H2z" />
                <path d="M14.5 9.5a1.5 1.5 0 0 0 0-3v3z" />
                </svg>
                Calefacción pileta
                </h7>
                </a>
                </li>
                
                <li class="nav-item">
                <a class="nav-link" href="#">
                <h7>
                <svg width="1em" height="1em" viewbox="0 0 16 16" class="bi bi-gear"
                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                d="M8.837 1.626c-.246-.835-1.428-.835-1.674 0l-.094.319A1.873 1.873 0 0 1 4.377 3.06l-.292-.16c-.764-.415-1.6.42-1.184 1.185l.159.292a1.873 1.873 0 0 1-1.115 2.692l-.319.094c-.835.246-.835 1.428 0 1.674l.319.094a1.873 1.873 0 0 1 1.115 2.693l-.16.291c-.415.764.42 1.6 1.185 1.184l.292-.159a1.873 1.873 0 0 1 2.692 1.116l.094.318c.246.835 1.428.835 1.674 0l.094-.319a1.873 1.873 0 0 1 2.693-1.115l.291.16c.764.415 1.6-.42 1.184-1.185l-.159-.291a1.873 1.873 0 0 1 1.116-2.693l.318-.094c.835-.246.835-1.428 0-1.674l-.319-.094a1.873 1.873 0 0 1-1.115-2.692l.16-.292c.415-.764-.42-1.6-1.185-1.184l-.291.159A1.873 1.873 0 0 1 8.93 1.945l-.094-.319zm-2.633-.283c.527-1.79 3.065-1.79 3.592 0l.094.319a.873.873 0 0 0 1.255.52l.292-.16c1.64-.892 3.434.901 2.54 2.541l-.159.292a.873.873 0 0 0 .52 1.255l.319.094c1.79.527 1.79 3.065 0 3.592l-.319.094a.873.873 0 0 0-.52 1.255l.16.292c.893 1.64-.902 3.434-2.541 2.54l-.292-.159a.873.873 0 0 0-1.255.52l-.094.319c-.527 1.79-3.065 1.79-3.592 0l-.094-.319a.873.873 0 0 0-1.255-.52l-.292.16c-1.64.893-3.433-.902-2.54-2.541l.159-.292a.873.873 0 0 0-.52-1.255l-.319-.094c-1.79-.527-1.79-3.065 0-3.592l.319-.094a.873.873 0 0 0 .52-1.255l-.16-.292c-.892-1.64.902-3.433 2.541-2.54l.292.159a.873.873 0 0 0 1.255-.52l.094-.319z" />
                <path fill-rule="evenodd"
                d="M8 5.754a2.246 2.246 0 1 0 0 4.492 2.246 2.246 0 0 0 0-4.492zM4.754 8a3.246 3.246 0 1 1 6.492 0 3.246 3.246 0 0 1-6.492 0z" />
                </svg>
                Termo solar
                </h7>
                </a>
                </li>
                
                <li class="nav-item">
                  <a class="nav-link" href="#">
                    <h7>
                      <svg
                        width="1em"
                        height="1em"
                        viewbox="0 0 16 16"
                        class="bi bi-display"
                        fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.75 13.5c.167-.333.25-.833.25-1.5h4c0 .667.083 1.167.25 1.5H11a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1h.75z"
                        />
                        <path
                          fill-rule="evenodd"
                          d="M13.991 3H2c-.325 0-.502.078-.602.145a.758.758 0 0 0-.254.302A1.46 1.46 0 0 0 1 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 0 0 .538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 0 0 .254-.302 1.464 1.464 0 0 0 .143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 0 0-.302-.254A1.46 1.46 0 0 0 13.99 3zM14 2H2C0 2 0 4 0 4v6c0 2 2 2 2 2h12c2 0 2-2 2-2V4c0-2-2-2-2-2z"
                        />
                      </svg>
                      Aerotermina
                    </h7>
                  </a>
                </li>
                
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
    <!-- ============================================================== -->
    <!-- end left sidebar -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- wrapper  -->
    <!-- ============================================================== -->
    <div class="dashboard-wrapper"  style="
    background-image: url(pwa/images/solar-eolico.jpeg) !important;
                                      background-position: center !important;
                                      background-size: cover !important;
">
<div class="dashboard-finance"  style="
    background-image: url(pwa/images/solar-eolico.jpeg) !important;
                                      background-position: center !important;
                                      background-size: cover !important;
">
        <div class="container-fluid dashboard-content">
          <!-- ============================================================== -->
          <!-- pageheader  -->
          <!-- ============================================================== -->
          <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
              <div class="page-header">
                <h3 class="mb-2">Planta: <span id="plantName"></span></h3> 
                <!-- <p class="pageheader-text">Proin placerat ante duiullam scelerisque a velit ac porta, fusce sit amet vestibulum mi. Morbi lobortis pulvinar quam.</p> -->
                <div class="page-breadcrumb">
                  <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                      <li class="breadcrumb-item">
                        <a href="#" class="breadcrumb-link">Dashboard</a>
                      </li>
                      <li class="breadcrumb-item active" aria-current="page">
                        Monitoreo planta Solar
                      </li>
                    </ol>
                  </nav>
                </div>
              </div>
            </div>
          </div>
          <!-- ============================================================== -->
          <!-- end pageheader  -->
          <!-- ============================================================== -->
          
          
                    <!--
          <div class="row">
            
            <div class="col-lg-6">
              <div class="container-fluid">
                <div class="row">
                  <div class="col-md-2"></div>
                  <div class="col-md-9">
                    <div class="row">
                      <div class="col-md-3">
                        <div class="icon d-inline-block float-none">
                          <img
                            src="pwa/images/icons8-panel-solar-50.png?80172489140"
                            alt="50"
                            class="img-responsive"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="icon d-inline-block float-none">
                          <img
                            src="pwa/images/icons8-panel-solar-50.png?80172489140"
                            alt="100"
                            class="img-responsive"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="icon d-inline-block float-none">
                          <img
                            src="pwa/images/icons8-panel-solar-50.png?80172489140"
                            alt="100"
                            class="img-responsive"
                          />
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-3">
                        <div class="icon d-inline-block float-none">
                          <img
                            src="pwa/images/icons8-panel-solar-50.png?80172489140"
                            alt="100"
                            class="img-responsive"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="icon d-inline-block float-none">
                          <img
                            src="pwa/images/icons8-panel-solar-50.png?80172489140"
                            alt="100"
                            class="img-responsive"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="icon d-inline-block float-none">
                          <img
                            src="pwa/images/icons8-panel-solar-50.png?80172489140"
                            alt="100"
                            class="img-responsive"
                          />
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-3">
                        <div class="icon d-inline-block float-none">
                          <img
                            src="pwa/images/icons8-panel-solar-50.png?80172489140"
                            alt="100"
                            class="img-responsive"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="icon d-inline-block float-none">
                          <img
                            src="pwa/images/icons8-panel-solar-50.png?80172489140"
                            alt="100"
                            class="img-responsive"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="icon d-inline-block float-none">
                          <img
                            src="pwa/images/icons8-panel-solar-50.png?80172489140"
                            alt="100"
                            class="img-responsive"
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
  

  
            </div>

          </div>
              -->
          
          
          
          
  <div class="row">
    
                <div class="col-xl-40">
              <div class="card">
                <h5 class="card-header">Flujo de energía</h5>
                <div class="card-body">
                  <div class="row align-items-center">
                    <div class="col-x4-8" >
                          <img class="img-responsive"             style="width: 100%;
    height: auto;" id="animacion" src="https://aymatenergia.com.ar/pwa/images/not_animate_ds-1.png"/>
                             
    </div>
    </div>      
          
                  </div>
                </div>
              </div>
            </div>
    
    

          
          
  
          
          
          
          
          
          
          
                          <div class="row">
                    <div class="col-xl-4">
                        <div class="card">
                            <h5 class="card-header">Registro Solar</h5>
                            <div class="card-body">
                                <div class="row align-items-center">
                                  
                                                            <div class="icon d-inline-block float-left">
                            <h3 class="mb-1">Día</h3>
                            <h3 class="mb-1 font-weight-bold">
                              <span id="todayEnergy"></span> Kw/h
                            </h3>
                          </div>
                                    <div class="icon d-inline-block float-none">
                                        <img src="pwa/images/icons8-panel-solar-50.png?80172489140" alt="placeholder 50"
                                            class="img-responsive" />
                                    </div>
                                    <div class="metric-value d-inline-block float-right">
                                        <h3 class="mb-1">Mes</h3>
                            <h3 class="mb-1 font-weight-bold">
                              <span id="totalEnergy"></span> Kw/h
                            </h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
                            
                            
       
                            
                            
                          
                  
                  
                    <div class="col-xl-4">
                        <div class="card">
                            <h5 class="card-header">Batería</h5>
                            <div class="card-body">
                                <div class="row align-items-center">
                                  
                                  
                                  
                                  <div class="battery onscreen">
    <div class="bubbles battery-bubbles">
        <span>&nbsp;</span>
    </div>
    <div class="liquid liquid-bg-color">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="300px" height="5px" viewbox="0 0 300 5" enable-background="new 0 0 300 5" xml:space="preserve">
            <path fill="#00fa57" class="wave" d="M300,300V2.5c0,0-0.6-0.1-1.1-0.1c0,0-25.5-2.3-40.5-2.4c-15,0-40.6,2.4-40.6,2.4
            c-12.3,1.1-30.3,1.8-31.9,1.9c-2-0.1-19.7-0.8-32-1.9c0,0-25.8-2.3-40.8-2.4c-15,0-40.8,2.4-40.8,2.4c-12.3,1.1-30.4,1.8-32,1.9
            c-2-0.1-20-0.8-32.2-1.9c0,0-3.1-0.3-8.1-0.7V300H300z" />
        </svg>
    </div><!-- .liquid -->
</div>
<div class="battery-text onscreen">
    <span id="storageCapacity"></span>
</div>

<div class="page-spacer"></div>
                                  
                                  <!--
                                    <div class="metric-value d-inline-block float-right">
                                                            <h3 class="mb-1">Carga al</h3>
                                
                    </div>
                                  -->
                  </div>
                </div>
              </div>
            </div>  
                            
                            
            
                            
                            
            <div class="col-xl-4">
              <div class="card">
                <h5 class="card-header">Ahorro</h5>
                <div class="card-body">
                  <div class="row align-items-center">
                    
                                        <div class="icon d-inline-block float-left">
                    <h3 class="mb-1">Factor</h3>
                                <h3 class="mb-1 font-weight-bold">
                                  <span id="PrecioKw"></span>
                                  $/Kwh
                                </h3>
                              </div>
                    <div class="icon d-inline-block float-none">
                      <img
src="pwa/images/plata.png?80172489140"
                        alt="placeholder 50"
                        class="img-responsive"
                      />
                    </div>
                    <div class="metric-value d-inline-block float-right">
                                <h3 class="mb-1">Mes</h3>
                                <h3 class="mb-1 font-weight-bold">
                                  <span id="Preciototal"></span> $
                                </h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          
          
                <div class="row">
                  
                  
                  
                  
                  
                  
                  <div class="col-xl-4">
              <div class="card">
                <h5 class="card-header">Producción en tiempo real</h5>
                <div class="card-body">
                  <div class="row align-items-center">
                    <div class="icon d-inline-block float-left">
                      <img
                        src="pwa/images/icons8-panel-solar-50.png?80172489140"
                        alt="placeholder 50"
                        class="img-responsive"
                      />
                    </div>
                    <div class="metric-value d-inline-block float-right">
                      <h3 class="mb-1">Potencia real</h3>
                                <h3 class="mb-1 font-weight-bold">
                                  <span id="currentPower"></span>
                                </h3>
                      
                      
                      
                      
                    </div>
                  </div>
                </div>
              </div>
            </div>
                  
                  
                  
                  
                  
                  
                  
                  <div class="col-xl-4">
              <div class="card">
                <h5 class="card-header">Red en tiempo real</h5>
                <div class="card-body">
                  <div class="row align-items-center">
                    <div class="icon d-inline-block float-left">
                          <h3 class="mb-1">Voltaje</h3>
                            <h3 class="mb-1 font-weight-bold">220 V</h3>
                          </div>
                    <div class="icon d-inline-block float-none">
                      <img src="pwa/images/icons8-electricidad-50.png?80172489140"
                        alt="placeholder 50"
                        class="img-responsive"
                      />
                      <!--src="pwa/images/icons8-electricidad-50.png?80172489140"-->
                      <!--src="pwa/images/animate_png_320.png?80172489140"-->
                    </div>
                    <div class="metric-value d-inline-block float-right">
                            <h3 class="mb-1">Corriente</h3>
                            <h3 class="mb-1 font-weight-bold">
                              <span id="AMP"></span> Amp
                            </h3>
                      
                      
                      
                      
                      
                      
                      
                    
                      
                      
                      
                      
                      
                      
                      
                    </div>
                  </div>
                </div>
              </div>
            </div>
                  
                  
            
            <div class="col-xl-4">
              <div class="card">
                <h5 class="card-header">Consumo en tiempo real</h5>
                <div class="card-body">
                  <div class="row align-items-center">
                    <div class="icon d-inline-block float-left">
                      <img
                        src="pwa/images/icons8-cabaña-50.png?80172489140"
                        alt="placeholder 50"
                        class="img-responsive"
                      />
                    </div>
                    <div class="metric-value d-inline-block float-right">
                                <h3 class="mb-1">Total</h3>
                                <h3 class="mb-1 font-weight-bold">
                                  <span id="activePower"></span> w
                                </h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

       
          
          
          
          
          
          
          
          <div class="row">
            <div class="col-xl-4">
              <div class="card">
                <h5 class="card-header">C02 No emitidos</h5>
                <div class="card-body">
                  <div class="row align-items-center">
                    <div class="icon d-inline-block float-left">
                      <img
                        src="pwa/images/icons8-co2-50.png?80172489140"
                        alt="placeholder 50"
                        class="img-responsive"
                      />
                    </div>
                    <div class="metric-value d-inline-block float-right">
                      <h3 class="mb-1 font-weight-bold">
                        <span id="Co2Reduction"></span> Kg CO2
                      </h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xl-4">
              <div class="card">
                <h5 class="card-header">Árboles</h5>
                <div class="card-body">
                  <div class="row align-items-center">
                    <div class="icon d-inline-block float-left">
                      <img
                        src="pwa/images/icons8-brote-50.png?80172489140"
                        alt="placeholder 50"
                        class="img-responsive"
                      />
                    </div>
                    <div class="metric-value d-inline-block float-right">
                      <h3 class="mb-1 font-weight-bold">
                        <span id="Co2tree"></span> árboles salvados
                      </h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xl-4">
              <div class="card">
                <h5 class="card-header">Petróleo</h5>
                <div class="card-body">
                  <div class="row align-items-center">
                    <div class="icon d-inline-block float-left">
                      <img
                        src="pwa/images/icons8-bomba-de-petróleo-gato-50.png?80172489140"
                        alt="placeholder 50"
                        class="img-responsive"
                      />
                    </div>
                    <div class="metric-value d-inline-block float-right">
                      <h3 class="mb-1 font-weight-bold">
                        <span id="Co2oil"></span> lts ahorrados
                      </h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
  <script type="text/javascript">
   function show(id) {
    if (document.getElementById) {
     if (document.getElementById(id).style.display != 'block') {
      document.getElementById(id).style.display = 'block';
      document.getElementById(id + '_expand').innerText = 'Esconder los datos avanzados';
     }
     else {
      document.getElementById(id).style.display = 'none';
      document.getElementById(id + '_expand').innerText = 'Mostrar los datos avanzados';
     }
    }
   }
  </script>
          
						<button type="submit" class="btn btn-primary btn-lg btn-block" onclick="javascript:show('tabladatos')"><a id="tabladatos_expand">Mostrar los datos avanzados</a></button>
          
           <!--
           <div class="row" id="tabladatos">

          -->
          
               <div class="row" style="display: none;" id="tabladatos">
            <div class="col-xl-13">
              <div class="card">
                <h2>Tabla de datos avanzados</h2>
<table>
  <tr>
    <th>Nombre de campo</th>
    <th>Valor</th>
  </tr>
  <tr>
    <td>Nombre de planta</td>
    <td><span id="plantName2"></span></td>
  </tr>
  <tr>
    <td>Id de planta</td>
    <td><span id="plantId"></span></td>
  </tr>
  <tr>
    <td>Generación de hoy</td>
    <td><span id="todayEnergy2"></span>Kwh</td>
  </tr>
  <tr>
    <td>Generación del mes</td>
    <td><span id="totalEnergy2"></span>Kwh</td>
  </tr>
    <tr>
    <td>Porcentaje de batería</td>
    <td><span id="storageCapacity2"></span></td>
  </tr>
  <tr>
    <td>Amperaje del consumo</td>
    <td><span id="AMP2"></span>Amp</td>
  </tr>
    <tr>
    <td>Ahorro de dinero del día</td>
    <td><span id="Preciodia"></span> $</td> 
  </tr>
    <tr>
    <td>Ahorro de dinero del mes</td>
    <td><span id="Preciototal2"></span> $</td>
  </tr>
  <tr>
    <td>Producción en tiempo real del panel</td>
    <td><span id="currentPower2"></span></td>
  </tr>
    <tr>
    <td>Consumo instantáneo del hogar</td>
    <td><span id="activePower2"></span></td>
  </tr>
    <tr>
    <td>CO2 no emitidos</td>
    <td><span id="Co2Reduction2"></span></td>
  </tr>
    <tr>
    <td>Árboles salvados</td>
    <td><span id="Co2tree2"></span></td>
  </tr>
    <tr>
    <td>Lts. de petróleo ahorrados</td>
    <td><span id="Co2oil2"></span></td>
  </tr>
    <tr>
    <td>Tipo de central</td>
    <td><span id="deviceAilas"></span> + <span id="deviceType"></span></td>
  </tr>
    <tr>
    <td>Conectado</td>
    <td><span id="lost"></span></td>
  </tr>
    <tr>
    <td>Número de serie de data logger</td>
    <td><span id="datalogSn"></span></td>
  </tr>
      <tr>
    <td>Número de serie de la central</td>
    <td><span id="deviceSn"></span></td>
  </tr>
        <tr>
    <td>Id de funcionamiento</td>
    <td><span id="deviceStatus"></span></td>
  </tr>
  <tr>
    <td>Potencia nominal del aparato</td>
    <td><span id="nominal_Power"></span>w</td>
  </tr>
  <tr>
    <td>Potencia aparente del aparato</td>
    <td><span id="apparentPower"></span>w</td>
  </tr>
</table>
              </div>
            </div>
          </div>
          
          
          
          
          
          
          
          
          
          
          
        </div>
      </div>
      <!-- ============================================================== -->
      <!-- footer -->
      <!-- ============================================================== -->
      <div class="footer">
        <div class="container-fluid">
          <div class="row">
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
              Copyright © 2020 . All rights reserved. Dashboard by
              <a href="http://vectorfieldstechnologies.com/"
                >Vector Fields Technologies</a
              >.
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
              <div class="text-md-right footer-links d-none d-sm-block">
                <a href="https://aymatenergia.com.ar">Inicio</a>
                <a href="mailto:info@aymatenergia.com.ar">Contacto</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- ============================================================== -->
      <!-- end footer -->
      <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- end wrapper  -->
    <!-- ============================================================== -->

    <!-- ============================================================== -->
    <!-- end main wrapper  -->
    <!-- ============================================================== -->
    <!-- jquery 3.3.1  -->
    <script src="pwa/vendor/jquery/jquery-3.3.1.min.js"></script>
    <!-- bootstap bundle js -->
    <script src="pwa/vendor/bootstrap/js/bootstrap.bundle.js"></script>
    <!-- slimscroll js -->
    <script src="pwa/vendor/slimscroll/jquery.slimscroll.js"></script>
    <!-- chart chartist js -->
    <script src="pwa/vendor/charts/chartist-bundle/chartist.min.js"></script>
    <script src="pwa/vendor/charts/chartist-bundle/Chartistjs.js"></script>
    <script src="pwa/vendor/charts/chartist-bundle/chartist-plugin-threshold.js"></script>
    <!-- chart C3 js -->
    <script src="pwa/vendor/charts/c3charts/c3.min.js"></script>
    <script src="pwa/vendor/charts/c3charts/d3-5.4.0.min.js"></script>
    <!-- chartjs js -->
    <script src="pwa/vendor/charts/charts-bundle/Chart.bundle.js"></script>
    <script src="pwa/vendor/charts/charts-bundle/chartjs.js"></script>
    <!-- sparkline js -->
    <script src="pwa/vendor/charts/sparkline/jquery.sparkline.js"></script>
    <!-- dashboard monitoreo js -->
    <!-- <script src="pwa/libs/js/dashboard-monitoreo.js"></script> -->
    <!-- main js -->
    <script src="pwa/libs/js/main-js.js"></script>
    <!-- gauge js -->
    <script src="pwa/vendor/gauge/gauge.min.js"></script>
    <!-- apexcharts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <!-- installing few libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/downloadjs/1.4.8/download.min.js"></script>

    <!-- daterangepicker js -->
    <!-- <script src="pwa/libs/js/data.js"></script> -->
    <script
      type="text/javascript"
      src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"
    ></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>

      var queryString = new Array();
      var perc;
      
            if (queryString.length == 0) {
                if (window.location.search.split('?').length > 1) {
                    var params = window.location.search.split('?')[1].split('&');
                    for (var i = 0; i < params.length; i++) {
                        var key = params[i].split('=')[0];
                        var value = decodeURIComponent(params[i].split('=')[1]);
                        queryString[key] = value;
                    }
                }
            }
            if (queryString["user"] != null && queryString["pass"] != null) {
                var user = queryString["user"];
      	        var pass = queryString["pass"];
              
              if (user == "") {
                alert("Por favor ingrese un usuario y contraseña válidos");
                window.location.replace("app.html");
};

};
      

      
      
            async function login() {


        var queryString = new Array();
        $(function () {
            if (queryString.length == 0) {
                if (window.location.search.split('?').length > 1) {
                    var params = window.location.search.split('?')[1].split('&');
                    for (var i = 0; i < params.length; i++) {
                        var key = params[i].split('=')[0];
                        var value = decodeURIComponent(params[i].split('=')[1]);
                        queryString[key] = value;
                    }
                }
            }
            if (queryString["user"] != null && queryString["pass"] != null) {
                var user2 = queryString["user"];// ingresa usuario
                var pass2 = queryString["pass"];// ingresa hash
            }
        });






                const proxy_url = "https://guideahon-aymatbeta2.glitch.me/aymat/plants?u=";
                //const proxy_url = "https://aymat.herokuapp.com/aymat/plants?u=";
                var requestOptions = {
                    method: 'GET',
                    redirect: 'follow'
                };
                //const res = await fetch(proxy_url+proxy_url+"/?u="+user+"&p="+pass, requestOptions);
                const res = await fetch(proxy_url + user+"&p="+pass, requestOptions);
                //const res = await fetch(proxy_url + user+"&p="+pass, requestOptions);
                const datos = await res.json();
                console.log(datos);
                const { plantMoneyText, storageCapacity} = datos;
                datapack2(datos.back.data[0].plantId);
                  
                //console.log(datos.back.data[0].plantId);
                //document.getElementById('plantMoneyText').textContent =plantMoneyText;
                //document.getElementById('storageStatus').textContent = datos.back.data[0].storageStatus;
                document.getElementById('plantName').textContent = datos.back.data[0].plantName;
                document.getElementById('plantName2').textContent = datos.back.data[0].plantName;
                document.getElementById('plantId').textContent = datos.back.data[0].plantId;
                //document.getElementById('storagePCharge').textContent = datos.back.data[0].storagePCharge;
                document.getElementById('storageCapacity').textContent = datos.back.data[0].storageCapacity;
                document.getElementById('storageCapacity2').textContent = datos.back.data[0].storageCapacity;
                perc = parseInt(datos.back.data[0].storageCapacity, 10);
                document.getElementById('currentPower').textContent = datos.back.data[0].currentPower;
                document.getElementById('currentPower2').textContent = datos.back.data[0].currentPower;
                //document.getElementById('isHaveStorage').textContent = datos.back.data[0].isHaveStorage;
                //document.getElementById('todayEnergy').textContent = datos.back.data[0].todayEnergy;
                //document.getElementById('storagePDisCharge').textContent = datos.back.data[0].storagePDisCharge;
                //document.getElementById('PS_energy').textContent = datos.back.data[0].totalEnergy;

                var error = datos.back.data[0].plantId;
                if (error == -1) {
                alert("Por favor ingrese un usuario y contraseña válidos");
                window.location.replace("app.html");

};
              
            }
            async function datapack2(plant_id) {
                const proxy_url = "https://guideahon-aymatbeta2.glitch.me/aymat/plant/";
                //const proxy_url = "https://aymat.herokuapp.com/aymat/plant/";
                var requestOptions = {
                    method: 'GET',
                    redirect: 'follow'
                };
                //const res = await fetch(proxy_url+"/?u="+user+"&p="+pass, requestOptions);
                const res = await fetch(proxy_url +plant_id+"?u="+user+"&p="+pass, requestOptions);
                const datos = await res.json();
                console.log(datos);
                const { Co2Reduction, totalEnergy, todayEnergy, useEnergy } = datos;
                //const { datalogSn } = datos.deviceList;
                //plant_id = datos.back.data.plantId;
                //document.getElementById('plantMoneyText').textContent = await datos.plantMoneyText;
                //document.getElementById('optimizerType').textContent = datos.optimizerType;
                //document.getElementById('ammeterType').textContent = datos.ammeterType;
                //document.getElementById('storagePgrid').textContent = datos.storagePgrid;
                document.getElementById('todayEnergy').textContent = todayEnergy;
                document.getElementById('todayEnergy2').textContent = todayEnergy;
                document.getElementById('Preciodia').textContent = (todayEnergy*2.83).toFixed(0);
                //document.getElementById('storageTodayPpv').textContent = datos.storageTodayPpv;
                //document.getElementById('invTodayPpv').textContent = datos.invTodayPpv;
                document.getElementById('totalEnergy').textContent = totalEnergy;
                document.getElementById('totalEnergy2').textContent = totalEnergy;
                document.getElementById('PrecioKw').textContent = 2.83;
                             // document.getElementById('PrecioKw2').textContent = 2.83;
                document.getElementById('Preciototal').textContent = (totalEnergy*2.83).toFixed(0);
                document.getElementById('Preciototal2').textContent = (totalEnergy*2.83).toFixed(0);
                //document.getElementById('nominalPower').textContent = datos.nominalPower;
                //document.getElementById('todayDischarge').textContent = datos.todayDischarge;
                document.getElementById('Co2Reduction').textContent = Co2Reduction;
                document.getElementById('Co2Reduction2').textContent = Co2Reduction;
                document.getElementById('Co2tree').textContent = (Co2Reduction / 2.56).toFixed(0);
                document.getElementById('Co2tree2').textContent = (Co2Reduction / 2.56).toFixed(0);
                document.getElementById('Co2oil').textContent = (Co2Reduction / 3.84).toFixed(1);
                document.getElementById('Co2oil2').textContent = (Co2Reduction / 3.84).toFixed(1);
                //document.getElementById('storagePuser').textContent = datos.storagePuser;
                //document.getElementById('useEnergy').textContent = useEnergy;
                //document.getElementById('totalMoneyText').textContent = datos.totalMoneyText;
                document.getElementById('nominal_Power').textContent = datos.nominal_Power;
                document.getElementById('lost').textContent = datos.deviceList[0].lost;
                //document.getElementById('location').textContent = datos.deviceList[0].location;
                document.getElementById('datalogSn').textContent = datos.deviceList[0].datalogSn;
                document.getElementById('deviceSn').textContent = datos.deviceList[0].deviceSn;
                document.getElementById('deviceStatus').textContent = datos.deviceList[0].deviceStatus;
                //document.getElementById('pCharge').textContent = datos.deviceList[0].pCharge;
                document.getElementById('activePower').textContent = datos.deviceList[0].activePower;
                document.getElementById('activePower2').textContent = datos.deviceList[0].activePower;
                document.getElementById('AMP').textContent = (datos.deviceList[0].activePower/220).toFixed(2);
                document.getElementById('AMP2').textContent = (datos.deviceList[0].activePower/220).toFixed(2);
                document.getElementById('deviceAilas').textContent = datos.deviceList[0].deviceAilas;
                document.getElementById('deviceType').textContent = datos.deviceList[0].deviceType;
                //document.getElementById('storageType').textContent = datos.deviceList[0].storageType;
                //document.getElementById('eChargeToday').textContent = datos.deviceList[0].eChargeToday;
                document.getElementById('apparentPower').textContent = datos.deviceList[0].apparentPower;
                //document.getElementById('capacity').textContent = datos.deviceList[0].capacity;
                //document.getElementById('energy').textContent = datos.deviceList[0].energy;
              
              
              
              var status=parseInt(datos.deviceList[0].deviceStatus, 10);
              
              

              if(status==8){
              document.getElementById("animacion").src= "https://aymatenergia.com.ar/pwa/images/animate_PNG_ds8.png";
                //_Solar&battery
              }else if(status==10){
                document.getElementById("animacion").src= "https://aymatenergia.com.ar/pwa/images/animate_PNG_ds10.png";
                //_ACcharge&bypass
              }
              else if(status==11){
              document.getElementById("animacion").src= "https://aymatenergia.com.ar/pwa/images/animate_PNG_ds11.png"; // animacion correcta papa!!!
                //_bypass
              }else if(status==12){
                document.getElementById("animacion").src= "https://aymatenergia.com.ar/pwa/images/animate_PNG_ds12.png";
                //Solar&Bypass
              }
              
              
              
            }
            login();
      
      function changeStylesheetRule(s, selector, property, value){
    // Make these strings lowercase
    selector = selector.toLowerCase();
    value    = value.toLowerCase();

    // Delete it if it exists
    for(var i = 0; i < s.cssRules.length; i++){
        var rule = s.cssRules[i];
        if(rule.selectorText === selector){
            s.deleteRule(i);
            break;
        }
    }

    // Convert camelCase to hyphenated-case
    property = property.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
    s.insertRule(selector + " { " + property + ": " + value + "; }", 0);
}

// Function to select random array element
// Used within the setInterval()
function randomValue(arr){
    return arr[Math.floor(Math.random() * arr.length)];
}

jQuery.easing['jswing'] = jQuery.easing['swing'];
jQuery.extend(jQuery.easing, {
    def: 'easeOutQuad',
    swing: function (x, t, b, c, d){
        return jQuery.easing[jQuery.easing.def](x, t, b, c, d);
    },
    easeOutQuad: function (x, t, b, c, d){
        return -c * (t /= d) * (t - 2) + b;
    },
});

$(document).ready(function(){
    //var perc = str.match(/(\d+)/);
    var s = document.styleSheets[0];
    // Define a size array, this will be used to vary bubble sizes
    var sArray = [];

    setTimeout(function(){
        updateBattery(perc, s);
        //$('.percentage').text(perc);
        //$('.units').text('%');
        $('.battery-text').css('opacity', 1);
        $('.slider input').animate({ value: perc }, 500, 'easeOutQuad');

        setTimeout(function(){
            $('.liquid').show();
        }, 500);
    }, 500);

    function updateBattery(perc, s){
        if(perc === 100){
            sArray = [];
        } else if(sArray.length === 0){
            sArray = [4, 6, 8, 10];
        }

        changeStylesheetRule(s, '.battery', 'backgroundPosition', '0 -' + (100 - perc) + '% !important');
        changeStylesheetRule(s, '.battery-text', 'backgroundPosition', '0 -' + (100 - perc) + '%');
        changeStylesheetRule(s, '.liquid', 'top', (100 - perc) + '%');
        if(perc === 100){
            changeStylesheetRule(s, '.liquid-bg-color', 'backgroundColor', '#00fa57');
        } else {
            changeStylesheetRule(s, '.liquid-bg-color', 'backgroundColor', '#444');
        }
    }

    // setInterval function used to create new bubble every 350 milliseconds
    setInterval(function(){
        if(sArray.length > 0){
            // Get a random size, defined as variable so it can be used for both width and height
            var size = randomValue(sArray);

            var largestSize = Math.max.apply(Math, sArray);
            var offset = largestSize / 2; // half to get the largest bubble radius
            offset += 5; // 5px for border-right

            // New bubble appended to div with it's size and left position being set inline
            $('.bubbles').each(function(){
                var bArray = new Array(parseInt($(this).width()) - offset)
                                 .join()
                                 .split(',')
                                 .map(function(item, index){ return ++index; });

                $(this).append('<div class="individual-bubble" style="left: ' + randomValue(bArray) + 'px; width: ' + size + 'px; height: ' + size + 'px"></div>');
            });

            // Animate each bubble to the top (bottom 100%) and reduce opacity as it moves
            // Callback function used to remove finished animations from the page
            $('.individual-bubble').animate({
                'top': 0,
                'bottom': '100%',
                'opacity' : '-=0.7',
            }, 3000, function(){
                $(this).remove();
            });
        }
    }, 350);

    $('.slider input').on('input', function(){
        $(this).stop(); // Terminate any running animation
        var original = this.value;
        // Set slider back to its starting value so we can animate the change
        this.value = perc;
        perc = parseInt(original);
        $(this).animate({ value: perc }, 500, 'easeOutQuad');
        $('.percentage').text(perc);
    }).on('mouseup', function(){
        // We need to manually call this to make sure things bubble up to the change event
        $(this).trigger('change');
    }).on('change', function(){
        updateBattery(30, s);
    });
});
    </script>
  </body>
</html>
